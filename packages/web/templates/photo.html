{% extends "base/base.html" %}

{% block title %}{{ collection.name() }}{% endblock %}

{% block content %}
<main class="flex-grow-1 flex-shrink-1 overflow-hidden position-relative" data-bs-theme="dark">
  {%- match media.file %}
    {%- when Some with (file) -%}
      <picture>
        <source type="image/webp" srcset="/media/{{media.id}}/{{file.id}}/encoding/image-webp/{{media.filename|default("unknown")|strip_extension}}.webp">
        <img style="height: 100%; width: 100%" class="object-fit-contain" src="/media/{{media.id}}/{{file.id}}/encoding/image-jpeg/{{media.filename|default("unknown")|strip_extension}}.jpg">
      </picture>
    {%- else -%}
  {%- endmatch %}
  <ui-overlay class="position-absolute top-0 start-0 end-0 bottom-0">
    <div class="h-100 w-100 d-flex flex-column fs-1">
      <div class="d-flex align-items-center justify-content-between p-3 bg-body-secondary" style="--bs-bg-opacity: 0.6">
        <div>Date</div>
        <div><ui-back href="{{ collection.path() }}"><ui-icon icon="x-circle-fill"></ui-icon></ui-back></div>
      </div>
      <div class="flex-grow-1 d-flex align-items-center justify-content-between p-3">
        <div>
          {%- match previous %}
            {%- when Some with (id) -%}
              <ui-link replace="true" href="{{ collection.path() }}/media/{{ id }}"><ui-icon icon="arrow-left-circle-fill"></ui-icon></ui-link>
            {%- else -%}
          {%- endmatch %}
        </div>
        <div>
          {%- match next %}
            {%- when Some with (id) -%}
              <ui-link replace="true" href="{{ collection.path() }}/media/{{ id }}"><ui-icon icon="arrow-right-circle-fill"></ui-icon></ui-link>
            {%- else -%}
          {%- endmatch %}
        </div>
      </div>
      <div class="d-flex align-items-center justify-content-end p-3 bg-body-secondary" style="--bs-bg-opacity: 0.6">
        <div>Buttons</div>
      </div>
    </div>
  </ui-overlay>
</main>
{% endblock %}
